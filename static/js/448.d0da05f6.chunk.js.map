{"version":3,"file":"static/js/448.d0da05f6.chunk.js","mappings":"wLAGA,MAuCA,EAvCsBA,IAAkB,IAAjB,QAAEC,GAASD,EAChC,OACEE,EAAAA,EAAAA,KAAA,OAAKC,UAAU,uBAAsBC,UACnCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,yBAAwBC,SAAA,EACrCF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,oBACJC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,cAAaC,SAAA,EAC1BF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,2BACJF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,yHACHC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,kCACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,oCACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,8CACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,uCAGNF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,qBACJF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,oNAEHF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,kBACJF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,qIAEHF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,iBACJF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,+DACHC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,sBACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,mCACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,mCACJF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,uDAGNF,EAAAA,EAAAA,KAAA,MAAAE,SAAI,aACJF,EAAAA,EAAAA,KAAA,KAAAE,SAAG,iFAELF,EAAAA,EAAAA,KAAA,UAAQI,QAASL,EAASE,UAAU,eAAcC,SAAC,cAEjD,E,aCzBK,SAASG,EAAWC,EAAKC,GAA6B,IAAfC,EAAOC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAC/D,MAAM,SACJG,EAAW,OAAM,OACjBC,EAAS,MACPL,GAGGM,EAAaC,IAAkBC,EAAAA,EAAAA,WAAS,KAC7C,IAEE,OAmEJ,SAA6BV,EAAKW,EAAcL,GAG9C,OAFoC,SAAbA,EAAsBM,IAA6BN,GAGxE,IAAK,QACH,OAaN,SAA6BN,EAAKW,GAChC,IAAKE,IAA2B,OAAOF,EAEvC,MAAMG,EAAOC,aAAaC,QAAQhB,GAClC,IAAKc,EAAM,OAAOH,EAElB,IACE,MAAMM,EAASC,KAAKC,MAAML,GAG1B,OAAIG,EAAOV,QAAUU,EAAOV,OAASa,KAAKC,OACxCN,aAAaO,WAAWtB,GACjBW,GAGFM,EAAOM,KAChB,CAAE,MAAAC,GACA,OAAOb,CACT,CACF,CAhCac,CAAoBzB,EAAKW,GAClC,IAAK,UACH,OAiCN,SAA+BX,EAAKW,GAClC,IAAKe,IAA6B,OAAOf,EAEzC,MAAMG,EAAOa,eAAeX,QAAQhB,GACpC,IAAKc,EAAM,OAAOH,EAElB,IACE,MAAMM,EAASC,KAAKC,MAAML,GAG1B,OAAIG,EAAOV,QAAUU,EAAOV,OAASa,KAAKC,OACxCM,eAAeL,WAAWtB,GACnBW,GAGFM,EAAOM,KAChB,CAAE,MAAAK,GACA,OAAOjB,CACT,CACF,CApDakB,CAAsB7B,EAAKW,GAKpC,QACE,OAAOA,EAEb,CAlFWmB,CAAoB9B,EAAKC,EAAcK,EAChD,CAAE,MAAOyB,GAEP,OADAC,QAAQD,MAAM,0CAADE,OAA2CjC,EAAG,MAAM+B,GAC1D9B,CACT,MAIKiC,EAAeC,IAAoBzB,EAAAA,EAAAA,UAAS,CACjD0B,SAAS,EACTL,MAAO,KACPM,UAgBF,SAA4BC,GAC1B,OAAQA,GACN,IAAK,QAAS,OAAOzB,IACrB,IAAK,UAAW,OAAOa,IACvB,IAAK,YAAa,OAAOa,IACzB,IAAK,OAAQ,OAAO1B,KAA6Ba,KAA+Ba,IAChF,QAAS,OAAO,EAEpB,CAxBaC,CAAmBlC,KAIhC,SAASM,IACP,MAAiB,SAAbN,EAA4BA,EAG5BiC,IAA+B,YAC/B1B,IAAkC,QAClCa,IAAoC,UAEjC,QACT,CAcA,SAASb,IACP,IACE,MAAM4B,EAAU,mBAGhB,OAFA1B,aAAa2B,QAAQD,EAASA,GAC9B1B,aAAaO,WAAWmB,IACjB,CACT,CAAE,MAAOE,GACP,OAAO,CACT,CACF,CAGA,SAASjB,IACP,IACE,MAAMe,EAAU,mBAGhB,OAFAd,eAAee,QAAQD,EAASA,GAChCd,eAAeL,WAAWmB,IACnB,CACT,CAAE,MAAOE,GACP,OAAO,CACT,CACF,CAGA,SAASJ,IACP,MAAyB,qBAAXK,QAA0B,cAAeA,MACzD,EAwHAC,EAAAA,EAAAA,YAAU,KACS,cAAbvC,GAAyC,SAAbA,IAC9B6B,GAAiBW,IAAIC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUD,GAAI,IAAEV,SAAS,MAzDlD,SAA0BpC,GACxB,OAAO,IAAIgD,SAAQ,CAACC,EAASC,KAC3B,IAAKX,IAEH,YADAW,EAAO,IAAIC,MAAM,4BAInB,MAAMC,EAAUC,UAAUC,KAAK,oBAAqB,GAEpDF,EAAQG,gBAAkB,SAASC,GACjC,MAAMC,EAAKD,EAAME,OAAOC,OACnBF,EAAGG,iBAAiBC,SAAS,oBAChCJ,EAAGK,kBAAkB,kBAEzB,EAEAV,EAAQW,QAAU,WAChBb,EAAO,IAAIC,MAAM,2BACnB,EAEAC,EAAQY,UAAY,SAASR,GAC3B,MAAMC,EAAKD,EAAME,OAAOC,OAGlBM,EAFcR,EAAGS,YAAY,CAAC,mBAAoB,YAC9BC,YAAY,mBACbC,IAAIpE,GAE7BiE,EAAWF,QAAU,WACnBb,EAAO,IAAIC,MAAM,gCACnB,EAEAc,EAAWD,UAAY,WACrB,MAAML,EAASM,EAAWN,OAE1B,GAAKA,EAAL,CAMA,GAAIA,EAAOpD,QAAUoD,EAAOpD,OAASa,KAAKC,MAMxC,OAJ0BoC,EAAGS,YAAY,CAAC,mBAAoB,aACxBC,YAAY,mBACtCE,OAAOrE,QACnBiD,EAAQ,MAIVA,EAAQU,EAAOpC,MAZf,MAFE0B,EAAQ,KAeZ,CACF,CAAC,GAEL,CAOIqB,CAAiBtE,GACduE,MAAKhD,IACU,OAAVA,GACFd,EAAec,GAEjBY,GAAiBW,IAAIC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUD,GAAI,IAAEV,SAAS,EAAOL,MAAO,QAAQ,IAErEyC,OAAMzC,IACLC,QAAQD,MAAM,iCAAkCA,GAChDI,GAAiBW,IAAIC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAChBD,GAAI,IACPV,SAAS,EACTL,MAAOA,EAAM0C,WACZ,IAET,GACC,CAACzE,EAAKM,IAGT,MAAMoE,GAAWC,EAAAA,EAAAA,cAAapD,IAC5B,IAEE,MAAMqD,EAAerD,aAAiBsD,SAAWtD,EAAMf,GAAee,EACtEd,EAAemE,GAEf,MAAME,EAA8B,SAAbxE,EAAsBM,IAA6BN,EACpEyE,EAAaxE,EAASa,KAAKC,MAAQd,EAAS,KAGlD,OAAQuE,GACN,IAAK,QACCjE,KACFE,aAAa2B,QAAQ1C,EAAKkB,KAAK8D,UAAU,CACvCzD,MAAOqD,EACPrE,OAAQwE,KAGZ,MACF,IAAK,UACCrD,KACFC,eAAee,QAAQ1C,EAAKkB,KAAK8D,UAAU,CACzCzD,MAAOqD,EACPrE,OAAQwE,KAGZ,MACF,IAAK,YACH,GAAIxC,IAAwB,CACVc,UAAUC,KAAK,oBAAqB,GAE5CU,UAAY,SAASR,GAChBA,EAAME,OAAOC,OACDO,YAAY,CAAC,mBAAoB,aAC9BC,YAAY,mBAEhCc,IAAI,CACR1D,MAAOqD,EACPrE,OAAQwE,GACP/E,EACL,CACF,CACA,MACF,QACEgC,QAAQkD,KAAK,qBAADjD,OAAsB6C,EAAc,oBAEtD,CAAE,MAAO/C,GACPC,QAAQD,MAAM,uCAADE,OAAwCjC,EAAG,MAAM+B,GAC9DI,GAAiBW,IAAIC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUD,GAAI,IAAEf,MAAOA,EAAM0C,WACpD,IACC,CAACzE,EAAKQ,EAAaF,EAAUC,IAG1B4E,GAAcR,EAAAA,EAAAA,cAAY,KAC9B,IACE,MAAMG,EAA8B,SAAbxE,EAAsBM,IAA6BN,EAE1E,OAAQwE,GACN,IAAK,QACCjE,KACFE,aAAaO,WAAWtB,GAE1B,MACF,IAAK,UACC0B,KACFC,eAAeL,WAAWtB,GAE5B,MACF,IAAK,YACH,GAAIuC,IAAwB,CACVc,UAAUC,KAAK,oBAAqB,GAE5CU,UAAY,SAASR,GAChBA,EAAME,OAAOC,OACDO,YAAY,CAAC,mBAAoB,aAC9BC,YAAY,mBAChCE,OAAOrE,EACf,CACF,CACA,MACF,QACEgC,QAAQkD,KAAK,qBAADjD,OAAsB6C,EAAc,oBAGpDrE,EAAeR,EACjB,CAAE,MAAO8B,GACPC,QAAQD,MAAM,wCAADE,OAAyCjC,EAAG,MAAM+B,GAC/DI,GAAiBW,IAAIC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GAAUD,GAAI,IAAEf,MAAOA,EAAM0C,WACpD,IACC,CAACzE,EAAKM,EAAUL,IAEnB,MAAO,CAACO,EAAakE,EAAUS,EAAajD,EAC9C,CC5TA,MA6HA,EA7HsBkD,KACpB,MAAOC,EAAaC,IAAkB5E,EAAAA,EAAAA,WAAS,IACxC6E,EAAmBC,IAAwB9E,EAAAA,EAAAA,WAAS,IAGpD+E,EAAeC,EAAkBC,EAAqBzD,GAAiBnC,EAC5E,gBACA,KACA,CACEO,SAAU,OACVC,OAAQ,UAK0B,OAAbkF,QAAa,IAAbA,GAAAA,EAAeG,WAExC/C,EAAAA,EAAAA,YAAU,KAEH4C,EAEMA,EAAcG,WACvBC,IAFAP,GAAe,EAGjB,GACC,CAACG,KAGJ5C,EAAAA,EAAAA,YAAU,KACJiD,CAA+D,GAGlE,CAAC5D,EAAcH,QAElB,MAAM8D,EAAkBA,KAEtBjD,OAAO,4BAA6B,EAEhCA,OAAOmD,MACTnD,OAAOmD,KAAK,SAAU,eAAgB,CACpC,cAAgB,GAEpB,EA4CF,OAAKV,GAAgBE,GAGnB1F,EAAAA,EAAAA,MAAAmG,EAAAA,SAAA,CAAApG,SAAA,CACG2F,IACC7F,EAAAA,EAAAA,KAACuG,EAAa,CAACxG,QAjBYyG,KAC/BV,GAAqB,EAAM,IAkBxBH,IACC3F,EAAAA,EAAAA,KAACyG,EAAAA,EAAOC,IAAG,CACTzG,UAAU,iBACV0G,QAAS,CAAEC,EAAG,IAAKC,QAAS,GAC5BC,QAAS,CAAEF,EAAG,EAAGC,QAAS,GAC1BE,WAAY,CAAEC,SAAU,IAAM9G,UAE9BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,MAAA,KAAAD,SAAA,CAAG,oMAGDF,EAAAA,EAAAA,KAAA,UAAQC,UAAU,cAAcG,QAlCpB6G,KACtBnB,GAAqB,EAAK,EAiCyC5F,SAAC,mBAE5DC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iBAAgBC,SAAA,EAC7BF,EAAAA,EAAAA,KAAA,UAAQI,QA/CU8G,KAC5BlB,EAAiB,CACfmB,WAAW,EACXjB,WAAW,EACXkB,WAAW,IAAI1F,MAAO2F,gBAjBxBnE,OAAO,4BAA6B,EAoBpC0C,GAAe,EAAM,EAwC6B3F,UAAU,mBAAkBC,SAAC,oBAGrEF,EAAAA,EAAAA,KAAA,UAAQI,QA5DIkH,KACtBtB,EAAiB,CACfmB,WAAW,EACXjB,WAAW,EACXkB,WAAW,IAAI1F,MAAO2F,gBAExBlB,IACAP,GAAe,EAAM,EAqDuB3F,UAAU,iBAAgBC,SAAC,gBAG5DkG,aA3BkC,IAoC1C,C","sources":["components/PrivacyPolicy.js","hooks/useStorage.js","components/CookieConsent.js"],"sourcesContent":["import React from 'react';\nimport '../styles/PrivacyPolicy.css';\n\nconst PrivacyPolicy = ({ onClose }) => {\n  return (\n    <div className=\"privacy-policy-modal\">\n      <div className=\"privacy-policy-content\">\n        <h2>Privacy Policy</h2>\n        <div className=\"policy-text\">\n          <h3>Analytics and Cookies</h3>\n          <p>This website uses Google Analytics 4 (GA4) to analyze website traffic and improve user experience. GA4 may collect:</p>\n          <ul>\n            <li>Pages visited and time spent</li>\n            <li>Device and browser information</li>\n            <li>Geographic location (country/city level)</li>\n            <li>Interaction with site features</li>\n          </ul>\n\n          <h3>Data Collection</h3>\n          <p>We implement IP anonymization to protect your privacy. No personally identifiable information is collected or stored. Data collected is processed by Google Analytics in accordance with their privacy policy.</p>\n\n          <h3>Cookie Usage</h3>\n          <p>This website uses essential cookies and analytics cookies. You can control analytics cookies through the cookie consent banner.</p>\n\n          <h3>Your Rights</h3>\n          <p>Under GDPR and other privacy laws, you have the right to:</p>\n          <ul>\n            <li>Access your data</li>\n            <li>Request deletion of your data</li>\n            <li>Opt-out of analytics tracking</li>\n            <li>Lodge a complaint with supervisory authorities</li>\n          </ul>\n\n          <h3>Contact</h3>\n          <p>For any privacy-related questions, please contact: jheupler@berkeley.edu</p>\n        </div>\n        <button onClick={onClose} className=\"close-button\">Close</button>\n      </div>\n    </div>\n  );\n};\n\nexport default PrivacyPolicy; ","import { useState, useEffect, useCallback } from 'react';\n\n/**\n * Custom storage hook that handles multiple storage mechanisms\n * with sophisticated fallbacks and error handling\n * \n * @param {string} key - The storage key\n * @param {any} initialValue - The initial value\n * @param {object} options - Storage options\n * @param {string} options.strategy - Storage strategy ('local', 'session', 'indexeddb', 'auto')\n * @param {number} options.expiry - Expiry time in milliseconds\n * @returns {Array} - [storedValue, setValue, removeValue, storageStatus]\n */\nexport default function useStorage(key, initialValue, options = {}) {\n  const {\n    strategy = 'auto', // 'local', 'session', 'indexeddb', 'auto'\n    expiry = null,     // null means no expiry\n  } = options;\n\n  // State to store our value\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      // Get from storage based on strategy\n      return getValueFromStorage(key, initialValue, strategy);\n    } catch (error) {\n      console.error(`Error retrieving stored value for key \"${key}\":`, error);\n      return initialValue;\n    }\n  });\n\n  // Storage status for tracking errors, loading, etc.\n  const [storageStatus, setStorageStatus] = useState({\n    loading: false,\n    error: null,\n    supported: isStorageSupported(strategy)\n  });\n\n  // Helper to determine which storage mechanism to use\n  function determineStorageStrategy() {\n    if (strategy !== 'auto') return strategy;\n    \n    // Auto-detect best storage strategy\n    if (isIndexedDBSupported()) return 'indexeddb';\n    if (isLocalStorageSupported()) return 'local';\n    if (isSessionStorageSupported()) return 'session';\n    \n    return 'memory'; // Last resort\n  }\n\n  // Helper to check if a storage strategy is supported\n  function isStorageSupported(storageType) {\n    switch (storageType) {\n      case 'local': return isLocalStorageSupported();\n      case 'session': return isSessionStorageSupported();\n      case 'indexeddb': return isIndexedDBSupported();\n      case 'auto': return isLocalStorageSupported() || isSessionStorageSupported() || isIndexedDBSupported();\n      default: return false;\n    }\n  }\n\n  // Check support for localStorage\n  function isLocalStorageSupported() {\n    try {\n      const testKey = '__storage_test__';\n      localStorage.setItem(testKey, testKey);\n      localStorage.removeItem(testKey);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  // Check support for sessionStorage\n  function isSessionStorageSupported() {\n    try {\n      const testKey = '__storage_test__';\n      sessionStorage.setItem(testKey, testKey);\n      sessionStorage.removeItem(testKey);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  // Check support for IndexedDB\n  function isIndexedDBSupported() {\n    return typeof window !== 'undefined' && 'indexedDB' in window;\n  }\n\n  // Get value from the appropriate storage\n  function getValueFromStorage(key, defaultValue, strategy) {\n    const actualStrategy = strategy === 'auto' ? determineStorageStrategy() : strategy;\n    \n    switch (actualStrategy) {\n      case 'local':\n        return getFromLocalStorage(key, defaultValue);\n      case 'session':\n        return getFromSessionStorage(key, defaultValue);\n      case 'indexeddb':\n        // For the initial value, return defaultValue since IndexedDB is async\n        // The useEffect below will handle loading from IndexedDB\n        return defaultValue; \n      default:\n        return defaultValue;\n    }\n  }\n\n  // Get from localStorage with expiry check\n  function getFromLocalStorage(key, defaultValue) {\n    if (!isLocalStorageSupported()) return defaultValue;\n    \n    const item = localStorage.getItem(key);\n    if (!item) return defaultValue;\n    \n    try {\n      const parsed = JSON.parse(item);\n      \n      // Check if item has expired\n      if (parsed.expiry && parsed.expiry < Date.now()) {\n        localStorage.removeItem(key);\n        return defaultValue;\n      }\n      \n      return parsed.value;\n    } catch {\n      return defaultValue;\n    }\n  }\n\n  // Get from sessionStorage with expiry check\n  function getFromSessionStorage(key, defaultValue) {\n    if (!isSessionStorageSupported()) return defaultValue;\n    \n    const item = sessionStorage.getItem(key);\n    if (!item) return defaultValue;\n    \n    try {\n      const parsed = JSON.parse(item);\n      \n      // Check if item has expired\n      if (parsed.expiry && parsed.expiry < Date.now()) {\n        sessionStorage.removeItem(key);\n        return defaultValue;\n      }\n      \n      return parsed.value;\n    } catch {\n      return defaultValue;\n    }\n  }\n\n  // Get from IndexedDB\n  function getFromIndexedDB(key) {\n    return new Promise((resolve, reject) => {\n      if (!isIndexedDBSupported()) {\n        reject(new Error('IndexedDB not supported'));\n        return;\n      }\n      \n      const request = indexedDB.open('portfolio-storage', 1);\n      \n      request.onupgradeneeded = function(event) {\n        const db = event.target.result;\n        if (!db.objectStoreNames.contains('key-value-store')) {\n          db.createObjectStore('key-value-store');\n        }\n      };\n      \n      request.onerror = function() {\n        reject(new Error('Error opening IndexedDB'));\n      };\n      \n      request.onsuccess = function(event) {\n        const db = event.target.result;\n        const transaction = db.transaction(['key-value-store'], 'readonly');\n        const store = transaction.objectStore('key-value-store');\n        const getRequest = store.get(key);\n        \n        getRequest.onerror = function() {\n          reject(new Error('Error getting from IndexedDB'));\n        };\n        \n        getRequest.onsuccess = function() {\n          const result = getRequest.result;\n          \n          if (!result) {\n            resolve(null);\n            return;\n          }\n          \n          // Check if item has expired\n          if (result.expiry && result.expiry < Date.now()) {\n            // Delete the expired item\n            const deleteTransaction = db.transaction(['key-value-store'], 'readwrite');\n            const deleteStore = deleteTransaction.objectStore('key-value-store');\n            deleteStore.delete(key);\n            resolve(null);\n            return;\n          }\n          \n          resolve(result.value);\n        };\n      };\n    });\n  }\n\n  // Load data from IndexedDB when the component mounts\n  useEffect(() => {\n    if (strategy === 'indexeddb' || strategy === 'auto') {\n      setStorageStatus(prev => ({ ...prev, loading: true }));\n      \n      getFromIndexedDB(key)\n        .then(value => {\n          if (value !== null) {\n            setStoredValue(value);\n          }\n          setStorageStatus(prev => ({ ...prev, loading: false, error: null }));\n        })\n        .catch(error => {\n          console.error('Error fetching from IndexedDB:', error);\n          setStorageStatus(prev => ({ \n            ...prev, \n            loading: false, \n            error: error.message \n          }));\n        });\n    }\n  }, [key, strategy]);\n\n  // Define a function to update the stored value\n  const setValue = useCallback((value) => {\n    try {\n      // If value is a function, pass the current value\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      \n      const actualStrategy = strategy === 'auto' ? determineStorageStrategy() : strategy;\n      const expiryTime = expiry ? Date.now() + expiry : null;\n      \n      // Store in the appropriate storage\n      switch (actualStrategy) {\n        case 'local':\n          if (isLocalStorageSupported()) {\n            localStorage.setItem(key, JSON.stringify({\n              value: valueToStore,\n              expiry: expiryTime\n            }));\n          }\n          break;\n        case 'session':\n          if (isSessionStorageSupported()) {\n            sessionStorage.setItem(key, JSON.stringify({\n              value: valueToStore,\n              expiry: expiryTime\n            }));\n          }\n          break;\n        case 'indexeddb':\n          if (isIndexedDBSupported()) {\n            const request = indexedDB.open('portfolio-storage', 1);\n            \n            request.onsuccess = function(event) {\n              const db = event.target.result;\n              const transaction = db.transaction(['key-value-store'], 'readwrite');\n              const store = transaction.objectStore('key-value-store');\n              \n              store.put({\n                value: valueToStore,\n                expiry: expiryTime\n              }, key);\n            };\n          }\n          break;\n        default:\n          console.warn(`Storage strategy \"${actualStrategy}\" not supported`);\n      }\n    } catch (error) {\n      console.error(`Error setting stored value for key \"${key}\":`, error);\n      setStorageStatus(prev => ({ ...prev, error: error.message }));\n    }\n  }, [key, storedValue, strategy, expiry]);\n\n  // Define a function to remove the stored value\n  const removeValue = useCallback(() => {\n    try {\n      const actualStrategy = strategy === 'auto' ? determineStorageStrategy() : strategy;\n      \n      switch (actualStrategy) {\n        case 'local':\n          if (isLocalStorageSupported()) {\n            localStorage.removeItem(key);\n          }\n          break;\n        case 'session':\n          if (isSessionStorageSupported()) {\n            sessionStorage.removeItem(key);\n          }\n          break;\n        case 'indexeddb':\n          if (isIndexedDBSupported()) {\n            const request = indexedDB.open('portfolio-storage', 1);\n            \n            request.onsuccess = function(event) {\n              const db = event.target.result;\n              const transaction = db.transaction(['key-value-store'], 'readwrite');\n              const store = transaction.objectStore('key-value-store');\n              store.delete(key);\n            };\n          }\n          break;\n        default:\n          console.warn(`Storage strategy \"${actualStrategy}\" not supported`);\n      }\n      \n      setStoredValue(initialValue);\n    } catch (error) {\n      console.error(`Error removing stored value for key \"${key}\":`, error);\n      setStorageStatus(prev => ({ ...prev, error: error.message }));\n    }\n  }, [key, strategy, initialValue]);\n\n  return [storedValue, setValue, removeValue, storageStatus];\n} ","import React, { useState, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport '../styles/CookieConsent.css';\nimport PrivacyPolicy from './PrivacyPolicy';\nimport useStorage from '../hooks/useStorage';\n\nconst CookieConsent = () => {\n  const [showConsent, setShowConsent] = useState(false);\n  const [showPrivacyPolicy, setShowPrivacyPolicy] = useState(false);\n  \n  // Use our custom storage hook with a 1-year expiry\n  const [cookieConsent, setCookieConsent, removeCookieConsent, storageStatus] = useStorage(\n    'cookieConsent', \n    null, \n    { \n      strategy: 'auto', \n      expiry: 365 * 24 * 60 * 60 * 1000 // 1 year in milliseconds\n    }\n  );\n\n  // Derive analytics state from the stored consent\n  const analyticsEnabled = cookieConsent?.analytics || false;\n\n  useEffect(() => {\n    // Show consent dialog if no consent is stored\n    if (!cookieConsent) {\n      setShowConsent(true);\n    } else if (cookieConsent.analytics) {\n      enableAnalytics();\n    }\n  }, [cookieConsent]);\n\n  // Log storage errors in development \n  useEffect(() => {\n    if (process.env.NODE_ENV !== 'production' && storageStatus.error) {\n      console.error('Storage error:', storageStatus.error);\n    }\n  }, [storageStatus.error]);\n\n  const enableAnalytics = () => {\n    // Enable GA4\n    window['ga-disable-G-P1RC04G662'] = false;\n    // Enable IP anonymization\n    if (window.gtag) {\n      window.gtag('config', 'G-P1RC04G662', {\n        'anonymize_ip': true\n      });\n    }\n  };\n\n  const disableAnalytics = () => {\n    // Disable GA4\n    window['ga-disable-G-P1RC04G662'] = true;\n  };\n\n  const handleAcceptAll = () => {\n    setCookieConsent({ \n      essential: true, \n      analytics: true,\n      timestamp: new Date().toISOString()\n    });\n    enableAnalytics();\n    setShowConsent(false);\n  };\n\n  const handleAcceptEssential = () => {\n    setCookieConsent({ \n      essential: true, \n      analytics: false,\n      timestamp: new Date().toISOString()\n    });\n    disableAnalytics();\n    setShowConsent(false);\n  };\n\n  const handleCustomize = () => {\n    setShowPrivacyPolicy(true);\n  };\n\n  const handleClosePrivacyPolicy = () => {\n    setShowPrivacyPolicy(false);\n  };\n\n  // For testing storage functionality\n  const handleResetConsent = () => {\n    if (process.env.NODE_ENV !== 'production') {\n      removeCookieConsent();\n      setShowConsent(true);\n    }\n  };\n\n  if (!showConsent && !showPrivacyPolicy) return null;\n\n  return (\n    <>\n      {showPrivacyPolicy && (\n        <PrivacyPolicy onClose={handleClosePrivacyPolicy} />\n      )}\n      {showConsent && (\n        <motion.div \n          className=\"cookie-consent\"\n          initial={{ y: 100, opacity: 0 }}\n          animate={{ y: 0, opacity: 1 }}\n          transition={{ duration: 0.5 }}\n        >\n          <div className=\"cookie-content\">\n            <p>\n              This website uses cookies to enhance your experience and analyze site usage. \n              We use essential cookies for basic functionality and optional analytics cookies to understand how you use our site.\n              <button className=\"link-button\" onClick={handleCustomize}>Learn more</button>\n            </p>\n            <div className=\"cookie-buttons\">\n              <button onClick={handleAcceptEssential} className=\"secondary-button\">\n                Essential Only\n              </button>\n              <button onClick={handleAcceptAll} className=\"primary-button\">\n                Accept All\n              </button>\n              {process.env.NODE_ENV !== 'production' && (\n                <button onClick={handleResetConsent} className=\"debug-button\" style={{ fontSize: '0.8rem', padding: '0.3rem' }}>\n                  Reset (Debug)\n                </button>\n              )}\n            </div>\n          </div>\n        </motion.div>\n      )}\n    </>\n  );\n};\n\nexport default CookieConsent; "],"names":["_ref","onClose","_jsx","className","children","_jsxs","onClick","useStorage","key","initialValue","options","arguments","length","undefined","strategy","expiry","storedValue","setStoredValue","useState","defaultValue","determineStorageStrategy","isLocalStorageSupported","item","localStorage","getItem","parsed","JSON","parse","Date","now","removeItem","value","_unused","getFromLocalStorage","isSessionStorageSupported","sessionStorage","_unused2","getFromSessionStorage","getValueFromStorage","error","console","concat","storageStatus","setStorageStatus","loading","supported","storageType","isIndexedDBSupported","isStorageSupported","testKey","setItem","e","window","useEffect","prev","_objectSpread","Promise","resolve","reject","Error","request","indexedDB","open","onupgradeneeded","event","db","target","result","objectStoreNames","contains","createObjectStore","onerror","onsuccess","getRequest","transaction","objectStore","get","delete","getFromIndexedDB","then","catch","message","setValue","useCallback","valueToStore","Function","actualStrategy","expiryTime","stringify","put","warn","removeValue","CookieConsent","showConsent","setShowConsent","showPrivacyPolicy","setShowPrivacyPolicy","cookieConsent","setCookieConsent","removeCookieConsent","analytics","enableAnalytics","process","gtag","_Fragment","PrivacyPolicy","handleClosePrivacyPolicy","motion","div","initial","y","opacity","animate","transition","duration","handleCustomize","handleAcceptEssential","essential","timestamp","toISOString","handleAcceptAll"],"sourceRoot":""}